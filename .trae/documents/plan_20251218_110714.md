# 优化Markdown格式统一脚本

## 1. 优化目标

根据当前脚本运行情况和样本文件分析，需要优化以下三个关键功能：

### 1.1 条款格式转换
- **问题**：当前脚本无法正确匹配"第一条"、"第二条"等格式的条款
- **解决方案**：修改正则表达式，匹配"第X条"格式，包括中文数字和阿拉伯数字

### 1.2 列表项格式化
- **问题**：样本文件中的列表项如"(一)行政机关、代收机构名称；"没有被正确转换
- **解决方案**：优化列表项匹配逻辑，确保所有"(一)"、"(1)"等格式的列表项都被正确转换为"- 列表内容"格式

### 1.3 目录生成
- **问题**：当前目录生成逻辑可能无法正确处理各种章节和节的格式
- **解决方案**：优化目录生成逻辑，确保在有章节的情况下能正确生成目录

## 2. 具体优化步骤

### 2.1 优化条款格式转换
- 修改`RE_ARTICLE`正则表达式，匹配"第X条"格式，包括中文数字和阿拉伯数字
- 优化条款处理逻辑，确保所有条款都被转换为"- **第X条** 内容"格式

### 2.2 优化列表项格式化
- 调整`RE_LIST_ITEM`正则表达式，确保匹配所有列表项格式
- 优化列表项处理逻辑，确保所有列表项都被正确转换为"- 列表内容"格式

### 2.3 优化目录生成
- 完善章节和节的识别逻辑
- 优化目录插入位置，确保在法律名称和通过信息之后插入
- 改进目录生成格式，确保美观和可读性

## 3. 预期效果

- 所有条款将被统一转换为"- **第X条** 内容"格式
- 所有列表项将被统一转换为"- 列表内容"格式
- 有章节的文件将生成正确的目录
- 保持文件原有内容的完整性
- 确保生成的Markdown格式符合网站要求

## 4. 实施计划

1. 修改脚本中的正则表达式
2. 优化条款处理逻辑
3. 优化列表项处理逻辑
4. 优化目录生成逻辑
5. 测试脚本运行效果
6. 生成处理报告

通过以上优化，脚本将能够更准确地统一所有Markdown文件的格式，确保符合网站的要求。