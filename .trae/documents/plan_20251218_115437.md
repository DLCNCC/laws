# URLs字段获取解决方案

## 1. 现状分析

根据网络搜索结果，国家法律法规数据库和国务院规章库目前没有公开的、免费的API接口供个人开发者使用。要获取这些数据库的API访问权限，需要经过正式的申请流程，且通常只对特定组织开放。

## 2. 解决方案

考虑到实际情况，我建议采用以下几种方案来处理`urls`字段：

### 2.1 方案一：使用预定义的URL模板

为不同类型的法律法规创建URL模板，基于文件标题生成可能的URL：

- **法律法规**：使用国家法律法规数据库的搜索URL模板
  - 模板：`https://flk.npc.gov.cn/?searchWord={title}`
- **行政法规**：使用国家行政法规数据库的搜索URL模板
  - 模板：`http://xzfg.moj.gov.cn/search2.html?keyword={title}`
- **部门规章**：使用国家规章库的搜索URL模板
  - 模板：`https://www.gov.cn/zhengce/xxgk/gjgzk/index.htm?searchWord={title}`

### 2.2 方案二：创建URL映射表

1. **手动创建基础映射**：
   - 针对重要的法律法规，手动搜索并创建标题与官方URL的映射表
   - 将映射表存储在配置文件中

2. **自动化匹配**：
   - 脚本在处理文件时，首先检查映射表中是否存在对应的URL
   - 如果存在，直接使用映射表中的URL
   - 如果不存在，使用方案一中的搜索URL模板

### 2.3 方案三：分阶段实现

1. **第一阶段**：使用搜索URL模板填充`urls`字段
2. **第二阶段**：手动收集和更新重要法律法规的官方URL
3. **第三阶段**：探索与官方数据库合作的可能性，获取正式API访问权限

## 3. 实现步骤

### 3.1 修改脚本，添加URL生成功能

1. **添加URL模板配置**：
   - 在脚本中定义不同类型法律法规的URL模板
   - 支持根据文件路径或内容判断法律法规类型

2. **实现URL生成逻辑**：
   - 根据文件标题和类型生成对应的URL
   - 支持URL编码，确保特殊字符正确处理

3. **集成到现有脚本**：
   - 将URL生成逻辑整合到YAML元数据生成部分
   - 确保与现有功能兼容

### 3.2 创建和维护URL映射表

1. **创建配置文件**：
   - 创建`url_mapping.yaml`配置文件
   - 定义标题到URL的映射关系

2. **提供维护工具**：
   - 创建简单的工具脚本，方便手动添加和更新URL映射
   - 支持批量导入和导出映射数据

## 4. 预期效果

- 所有文件的`urls`字段都将被填充，不再为空
- 生成的URL可以直接指向官方数据库的搜索结果或具体页面
- 支持后续手动更新和维护
- 实现简单，不需要复杂的API调用或web scraping

## 5. 优势

- **可行性高**：不需要API访问权限，避免了复杂的申请流程
- **实现简单**：开发成本低，易于维护
- **实用性强**：生成的URL对用户有实际帮助
- **可扩展性好**：支持后续扩展和优化

## 6. 实施计划

1. **修改`unify_markdown_format.py`脚本**：
   - 添加URL模板配置
   - 实现URL生成逻辑
   - 集成到YAML元数据生成部分

2. **创建URL映射表**：
   - 创建`url_mapping.yaml`配置文件
   - 添加初始的URL映射

3. **测试和验证**：
   - 测试脚本对不同类型文件的URL生成效果
   - 验证生成的URL是否有效

4. **文档和维护指南**：
   - 编写脚本使用说明
   - 提供URL映射表的维护指南